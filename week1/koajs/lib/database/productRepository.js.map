{"version":3,"file":"productRepository.js","names":["_fs","_interopRequireDefault","require","obj","__esModule","default","data","products","getAll","getOne","id","find","product","parseInt","remove","index","findIndex","splice","fs","writeFileSync","JSON","stringify","update","newData","productIndex","add","updatedProducts"],"sources":["../../src/database/productRepository.js"],"sourcesContent":["import fs from \"fs\";\r\nconst { data: products } = require(\"./products.json\");\r\n\r\n/**\r\n *\r\n * @returns {[{author: string, name: string, id: number}, {author: string, name: string, id: number}, {author: string, name: string, id: number}, {author: string, name: string, id: number}]}\r\n */\r\nexport function getAll() {\r\n  return products;\r\n}\r\n\r\n/**\r\n *\r\n * @param id\r\n * @returns {{author: string, name: string, id: number} | {author: string, name: string, id: number} | {author: string, name: string, id: number} | {author: string, name: string, id: number}}\r\n */\r\nexport function getOne(id) {\r\n  return products.find((product) => product.id === parseInt(id));\r\n}\r\n\r\n/**\r\n *\r\n * @param data\r\n */\r\n\r\nexport function remove(id) {\r\n  const index = products.findIndex((product) => product.id === parseInt(id));\r\n  products.splice(index, 1)[0];\r\n  return fs.writeFileSync(\r\n    \"./src/database/products.json\",\r\n    JSON.stringify({ data: products })\r\n  );\r\n}\r\n\r\nexport function update(id, newData) {\r\n  const productIndex = products.findIndex(\r\n    (product) => product.id === parseInt(id)\r\n  );\r\n  products[productIndex] = { ...products[productIndex], ...newData };\r\n  return fs.writeFileSync(\r\n    \"./products.json\",\r\n    JSON.stringify({ data: products })\r\n  );\r\n}\r\n\r\nexport function add(data) {\r\n  const updatedProducts = [data, ...products];\r\n  return fs.writeFileSync(\r\n    \"./src/database/products.json\",\r\n    JSON.stringify({\r\n      data: updatedProducts,\r\n    })\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAoB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACpB,MAAM;EAAEG,IAAI,EAAEC;AAAS,CAAC,GAAGL,OAAO,CAAC,iBAAiB,CAAC;;AAErD;AACA;AACA;AACA;AACO,SAASM,MAAMA,CAAA,EAAG;EACvB,OAAOD,QAAQ;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASE,MAAMA,CAACC,EAAE,EAAE;EACzB,OAAOH,QAAQ,CAACI,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKG,QAAQ,CAACH,EAAE,CAAC,CAAC;AAChE;;AAEA;AACA;AACA;AACA;;AAEO,SAASI,MAAMA,CAACJ,EAAE,EAAE;EACzB,MAAMK,KAAK,GAAGR,QAAQ,CAACS,SAAS,CAAEJ,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKG,QAAQ,CAACH,EAAE,CAAC,CAAC;EAC1EH,QAAQ,CAACU,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,OAAOG,WAAE,CAACC,aAAa,CACrB,8BAA8B,EAC9BC,IAAI,CAACC,SAAS,CAAC;IAAEf,IAAI,EAAEC;EAAS,CAAC,CACnC,CAAC;AACH;AAEO,SAASe,MAAMA,CAACZ,EAAE,EAAEa,OAAO,EAAE;EAClC,MAAMC,YAAY,GAAGjB,QAAQ,CAACS,SAAS,CACpCJ,OAAO,IAAKA,OAAO,CAACF,EAAE,KAAKG,QAAQ,CAACH,EAAE,CACzC,CAAC;EACDH,QAAQ,CAACiB,YAAY,CAAC,GAAG;IAAE,GAAGjB,QAAQ,CAACiB,YAAY,CAAC;IAAE,GAAGD;EAAQ,CAAC;EAClE,OAAOL,WAAE,CAACC,aAAa,CACrB,iBAAiB,EACjBC,IAAI,CAACC,SAAS,CAAC;IAAEf,IAAI,EAAEC;EAAS,CAAC,CACnC,CAAC;AACH;AAEO,SAASkB,GAAGA,CAACnB,IAAI,EAAE;EACxB,MAAMoB,eAAe,GAAG,CAACpB,IAAI,EAAE,GAAGC,QAAQ,CAAC;EAC3C,OAAOW,WAAE,CAACC,aAAa,CACrB,8BAA8B,EAC9BC,IAAI,CAACC,SAAS,CAAC;IACbf,IAAI,EAAEoB;EACR,CAAC,CACH,CAAC;AACH"}